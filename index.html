<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seleziona Immagini</title>
</head>
<body id="idBody" onload="pageLoading()">
  <main id="mainContent">

  </main>
  <script>

      let imgInput = document.createElement('input');
      main = document.getElementById('mainContent');
      
      let loadImgBtn = document.createElement('input');
      loadImgBtn.setAttribute('type', 'button');
      loadImgBtn.value = 'Carica in Lista';
      loadImgBtn.setAttribute('onclick', 'loadImgInList()')


      let div1 = document.createElement('div');
      let fieldset1 = document.createElement('fieldset');
      let legend1 = document.createElement('legend');
      let label1 = document.createElement('label');

      let imgListLinks = document.createElement('ul');
       imgListLinks.id = "imgListLinksId";

      imgInput.id ='imgInputId'
      label1.setAttribute('for', 'imgInputId');
      label1.innerText= "Seleziona Immagine: ";


      let arrayFantasma = [];



      legend1.innerText = 'esercizio';


      main.appendChild(div1);
      div1.appendChild(fieldset1);
      fieldset1.appendChild(legend1);
      fieldset1.appendChild(label1);
      fieldset1.appendChild(imgInput);
      fieldset1.appendChild(loadImgBtn);
      fieldset1.appendChild(imgListLinks);


      
     

      

      
      function loadImgInList() {
        let imgName = imgInput.value;

        let flag = 0;

        for (i = 0; i < arrayFantasma.length; i++) {
          if (arrayFantasma[i] == imgName  ) {
            
            flag = 1;
          }

        }
          if (flag == 0 && imgName !="") {
          let listElement = document.createElement('li');
          listElement.innerHTML = '<a href="./img/'+ imgName + '">'+ imgName + '</a>';
          imgListLinks.appendChild(listElement);
          arrayFantasma.push(imgName);
      } else {
        alert("Impossibile caricare l'immagine!");
      }


        

        
        


      }

    function pageLoading() {


     

    }
  </script>
  
</body>
</html>